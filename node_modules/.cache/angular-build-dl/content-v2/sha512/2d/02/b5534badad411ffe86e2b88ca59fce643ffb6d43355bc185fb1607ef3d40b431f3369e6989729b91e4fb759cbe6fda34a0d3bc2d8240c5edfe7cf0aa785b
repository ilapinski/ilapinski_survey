(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["questionnaire-questionnaire-module"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/questionnaire/questionnaire.page.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/questionnaire/questionnaire.page.html ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-content [fullscreen]=\"true\">\n  <div class=\"page-wrapper\">\n  <div id=\"header\">\n    <img src=\"/assets/header/logo.png\" class=\"s4s-logo\">\n    <img src=\"/assets/header/headline.png\" class=\"headline\">\n    <img src=\"/assets/header/devices.png\" class=\"devices\">\n    <img src=\"/assets/header/frauenhofer.png\" class=\"frauenhofer-logo\">\n  </div>\n\n  <ion-grid style=\"padding-bottom: 300px;\">\n    <ion-row>\n      <ion-col size-xs=\"12\" size-md=\"8\" offset-md=\"2\" size-lg=\"6\" offset-lg=\"3\" style=\"margin-top: 30px;\">\n          <!-- PROGRESS BAR -->\n          <span class=\"progress-counter\">Frage {{questionCounter}}</span>\n          <div class=\"progress-container\">\n            <div class=\"progress-slider\" [style.width]=\"getProgress() + '%'\"></div>\n          </div>\n        \n        <!-- STANDARD QUESTIONS -->\n        <section *ngIf=\"currentSlide === 1 && alreadyFilledOut !== true\">\n          <h2>Ich bin...</h2>\n            <ion-radio-group [(ngModel)]=\"respondent.type\">\n                \n              <ion-item lines=\"none\">\n                <ion-label>Schüler</ion-label>\n                <ion-radio slot=\"start\" color=\"primary\" value=\"student\" mode=\"md\"></ion-radio>\n              </ion-item>\n\n              <ion-item lines=\"none\">\n                <ion-label>Lehrer</ion-label>\n                <ion-radio slot=\"start\" color=\"primary\" value=\"teacher\" mode=\"md\"></ion-radio>\n              </ion-item>\n            </ion-radio-group>\n            <ion-item-divider mode=\"md\">\n            </ion-item-divider>\n            <h2>In welchem Bundesland?</h2>\n            <ion-item lines=\"none\">\n              <select id=\"districtSelection\" [(ngModel)]=\"respondent.district\">\n                <option disabled>Bitte auswählen</option>\n                <option value=\"BW\">Baden-Württemberg</option>\n                <option value=\"BY\">Bayern</option>\n                <option value=\"BE\">Berlin</option>\n                <option value=\"BB\">Brandenburg</option>\n                <option value=\"HB\">Bremen</option>\n                <option value=\"HH\">Hamburg</option>\n                <option value=\"HE\">Hessen</option>\n                <option value=\"MV\">Mecklenburg-Vorpommern</option>\n                <option value=\"NI\">Niedersachsen</option>\n                <option value=\"NW\">Nordrhein-Westfalen</option>\n                <option value=\"RP\">Rheinland-Pfalz</option>\n                <option value=\"SL\">Saarland</option>\n                <option value=\"SN\">Sachsen</option>\n                <option value=\"ST\">Sachsen-Anhalt</option>\n                <option value=\"SH\">Schleswig-Holstein</option>\n                <option value=\"TH\">Thüringen</option>\n              </select>\n            </ion-item>\n\n          <ion-button color=\"primary\" mode=\"ios\" [disabled]=\"respondent.type === null || respondent.district === null\"\n          (click)=\"goToNextSlide()\">Weiter</ion-button>\n        </section>\n\n        <div *ngFor=\"let question of questionStack; let i = index;\">\n          <section *ngIf=\"currentSlide === question.questionId + 1\" class=\"opacityAnimation\">\n            <h2>{{question.questionTitle}}</h2>\n            <p class=\"subtitle\">{{question?.questionSubtitle}}</p>\n            <div *ngIf=\"question.questionType === 'SLIDER'\">\n              \n              <div class=\"slidecontainer\">\n                <input type=\"range\" [min]=\"question.questionAnswers[0]\" [max]=\"question.questionAnswers[1]\" [(ngModel)]=\"currentAnswer\" class=\"slider\">\n                <p class=\"scale left\">\n                  {{question.questionAnswers[0]}} {{question.measurementType}}\n                </p>\n                <p class=\"scale right\">\n                  {{question.questionAnswers[1]}} {{question.measurementType}}\n                </p>\n              </div>\n              <p><b>Antwort:</b> {{currentAnswer || \"-\"}} {{question.measurementType}}</p>\n            </div>\n\n            <div *ngIf=\"question.questionType === 'BOOL'\">\n              <ion-radio-group [(ngModel)]=\"currentAnswer\">\n                <ion-item lines=\"none\">\n                  <ion-label>Ja</ion-label>\n                  <ion-radio slot=\"start\" color=\"primary\" value=\"yes\" mode=\"md\"></ion-radio>\n                </ion-item>\n\n                <ion-item lines=\"none\">\n                  <ion-label>Nein</ion-label>\n                  <ion-radio slot=\"start\" color=\"primary\" value=\"no\" mode=\"md\"></ion-radio>\n                </ion-item>\n              </ion-radio-group>\n            </div>\n\n            <div *ngIf=\"question.questionType === 'SINGLECHOICE'\">\n              <ion-radio-group [(ngModel)]=\"currentAnswer\">\n                <ion-item lines=\"none\" *ngFor=\"let option of question.options; let y = index;\">\n                  <ion-label>{{option}}</ion-label>\n                  <ion-radio slot=\"start\" color=\"primary\" [value]=\"option\" mode=\"md\"></ion-radio>\n                </ion-item>\n              </ion-radio-group>\n            </div>\n\n            <div *ngIf=\"question.questionType === 'MULTIPLECHOICE'\">\n                <ion-item lines=\"none\" *ngFor=\"let option of question.questionAnswers; let y = index;\">\n                  <ion-label>{{option}}</ion-label>\n                  <ion-checkbox *ngIf=\"question.questionAnswers[0] === 'Keine'\" slot=\"start\" color=\"primary\" [value]=\"'option-' + y\" [disabled]=\"currentAnswerArray[0] === true && y != 0\" [checked]=\"currentAnswerArray[0] === true && y != 0 ? false : true\" mode=\"md\" [(ngModel)]=\"currentAnswerArray[y]\"></ion-checkbox>\n                  <ion-checkbox *ngIf=\"question.questionAnswers[0] != 'Keine'\" slot=\"start\" color=\"primary\" [value]=\"'option-' + y\" mode=\"md\" [(ngModel)]=\"currentAnswerArray[y]\"></ion-checkbox>\n                </ion-item>\n            </div>\n\n            <div *ngIf=\"question.questionType === 'TEXT'\">\n              <textarea [(ngModel)]=\"currentAnswer\">\n              </textarea>\n            </div>\n\n            <div *ngIf=\"question.questionType === 'DROPDOWN'\">\n              <select id=\"districtSelection\" (change)=\"addToAnswerArray('SUBJECTS', $event)\">\n                <option disabled>Bitte auswählen</option>\n                <option *ngFor=\"let option of question.options; let y = index;\" [value]=\"option.title\">{{option.title}}</option>\n              </select>\n              <ion-row style=\"margin-top: 10px;\">\n              <p *ngIf=\"currentAnswerArray.length > 0 \" class=\"opacityAnimation\"><b>Ausgewählte Fächer:</b></p>\n              </ion-row>\n              <ion-row>\n              <ion-chip outline color=\"primary\" *ngFor=\"let option of currentAnswerArray; let y = index;\" (click)=\"removeFromAnswerArray('SUBJECTS', option)\" class=\"opacityAnimation\">\n                <ion-label>{{option}}</ion-label>\n                <ion-icon name=\"close-circle\"></ion-icon>\n              </ion-chip>\n            </ion-row>\n            </div>\n          </section>\n          <ion-button *ngIf=\"currentSlide === question.questionId + 1\" color=\"primary\" mode=\"ios\" [disabled]=\"currentAnswer === null &&  currentAnswerArray.length === 0 || currentAnswer === ''\"\n          (click)=\"goToNextSlide()\">Weiter</ion-button>\n        </div>\n        <div *ngIf=\"currentSlide > questionStack.length + 1 && currentSlide != 1 && alreadyFilledOut !== true\" >\n          <h2>Vielen Dank!</h2>\n          Danke, dass Du an dieser Umfrage teilgenommen hast. Diese ist nun zu Ende.\n\n          <br><br><a href=\"https://skills4school.de\">Auf Website von Skills4School gehen.</a>\n        </div>\n        <div *ngIf=\"alreadyFilledOut === true\" >\n          <h2>Vielen Dank!</h2>\n          Danke, dass Du an dieser Umfrage teilgenommen hast.\n          <br><br><b>Leider kann jeder nur einmal an dieser Umfrage teilnehmen.</b>\n\n          <br><br><a href=\"https://skills4school.de\">Auf Website von Skills4School gehen.</a>\n        </div>\n        \n        \n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <div id=\"footer\">\n    <span>© 2020 Skills4School - Lernmal GmbH. Alle Rechte vorbehalten.\n    <br><a href=\"https://www.skills4school.de/datenschutz/\">Datenschutz</a> • <a href=\"https://www.skills4school.de/impressum/\">Impressum</a></span>\n  </div>\n  </div>\n \n</ion-content>\n");

/***/ }),

/***/ "./src/app/questionnaire/questionnaire-routing.module.ts":
/*!***************************************************************!*\
  !*** ./src/app/questionnaire/questionnaire-routing.module.ts ***!
  \***************************************************************/
/*! exports provided: QuestionnairePageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionnairePageRoutingModule", function() { return QuestionnairePageRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _questionnaire_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./questionnaire.page */ "./src/app/questionnaire/questionnaire.page.ts");




const routes = [
    {
        path: '',
        component: _questionnaire_page__WEBPACK_IMPORTED_MODULE_3__["QuestionnairePage"]
    }
];
let QuestionnairePageRoutingModule = class QuestionnairePageRoutingModule {
};
QuestionnairePageRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
    })
], QuestionnairePageRoutingModule);



/***/ }),

/***/ "./src/app/questionnaire/questionnaire.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/questionnaire/questionnaire.module.ts ***!
  \*******************************************************/
/*! exports provided: QuestionnairePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionnairePageModule", function() { return QuestionnairePageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm2015/ionic-angular.js");
/* harmony import */ var _questionnaire_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./questionnaire-routing.module */ "./src/app/questionnaire/questionnaire-routing.module.ts");
/* harmony import */ var _questionnaire_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./questionnaire.page */ "./src/app/questionnaire/questionnaire.page.ts");







let QuestionnairePageModule = class QuestionnairePageModule {
};
QuestionnairePageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _questionnaire_routing_module__WEBPACK_IMPORTED_MODULE_5__["QuestionnairePageRoutingModule"]
        ],
        declarations: [_questionnaire_page__WEBPACK_IMPORTED_MODULE_6__["QuestionnairePage"]]
    })
], QuestionnairePageModule);



/***/ }),

/***/ "./src/app/questionnaire/questionnaire.page.scss":
/*!*******************************************************!*\
  !*** ./src/app/questionnaire/questionnaire.page.scss ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".progress-counter {\n  color: var(--ion-color-medium-tint);\n  font-size: 14px;\n}\n\n.progress-container {\n  width: 100%;\n  height: 15px;\n  background-color: #00000008;\n  border-radius: 20px;\n  position: relative;\n  margin-bottom: 30px;\n  margin-top: 10px;\n}\n\n.progress-container .progress-slider {\n  position: absolute;\n  background-color: var(--ion-color-primary);\n  height: 100%;\n  border-radius: 20px;\n  max-width: 100%;\n}\n\nion-item {\n  border-radius: 15px;\n  --background-hover: var(--ion-color-primary);\n  --background-hover-opacity: 0.15;\n}\n\nion-button {\n  margin-top: 30px;\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  width: 400px;\n  max-width: 90vw;\n}\n\np.subtitle {\n  color: var(--ion-color-medium);\n}\n\ntextarea {\n  padding: 10px;\n  background: white;\n  border-radius: 10px;\n  border: solid 1px #00000030;\n  max-width: 100%;\n  min-width: 100%;\n  max-height: 350px;\n  min-height: 100px;\n  outline: none !important;\n}\n\nselect {\n  background: white;\n  border-radius: 10px;\n  border: solid 1px #00000030;\n  height: 40px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  width: 400px;\n  max-width: 90vw;\n  outline: none !important;\n}\n\ndiv.slidecontainer {\n  width: 100%;\n  margin-bottom: 50px;\n}\n\np.scale {\n  position: absolute;\n  margin-top: 10px;\n  color: var(--ion-color-medium);\n  font-size: 13px;\n}\n\np.scale.left {\n  left: 7px;\n}\n\np.scale.right {\n  right: 7px;\n}\n\n.slider {\n  -webkit-appearance: none;\n  width: 100%;\n  height: 14px;\n  background: #00000010;\n  border-radius: 20px;\n  outline: none;\n  opacity: 0.7;\n  -webkit-transition: 0.2s;\n  -webkit-transition: opacity 0.2s;\n  transition: opacity 0.2s;\n}\n\n.slider:hover {\n  opacity: 1;\n}\n\n.slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 25px;\n  height: 25px;\n  background: var(--ion-color-primary);\n  border-radius: 20px;\n  cursor: pointer;\n}\n\n.slider::-moz-range-thumb {\n  width: 25px;\n  height: 25px;\n  background: var(--ion-color-primary);\n  border-radius: 20px;\n  cursor: pointer;\n}\n\n.opacityAnimation {\n  -webkit-animation-name: opacityAnimation;\n          animation-name: opacityAnimation;\n  -webkit-animation-duration: 1s;\n          animation-duration: 1s;\n}\n\n@-webkit-keyframes opacityAnimation {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes opacityAnimation {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pbGFwaW5za2kvRGVza3RvcC9BcmJlaXQvUzRTL0NPVklEL3M0cy1jb3ZpZC9zcmMvYXBwL3F1ZXN0aW9ubmFpcmUvcXVlc3Rpb25uYWlyZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3F1ZXN0aW9ubmFpcmUvcXVlc3Rpb25uYWlyZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQ0FBQTtFQUNBLGVBQUE7QUNDSjs7QURDQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBU0EsbUJBQUE7RUFDQSxnQkFBQTtBQ05KOztBREZJO0VBQ0ksa0JBQUE7RUFDQSwwQ0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUNJUjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EsNENBQUE7RUFDQSxnQ0FBQTtBQ0NKOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxtQ0FBQTtVQUFBLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtLQUFBLHNCQUFBO01BQUEscUJBQUE7VUFBQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUNDRjs7QURDRTtFQUNFLFNBQUE7QUNDSjs7QURDRTtFQUNFLFVBQUE7QUNDSjs7QURHQTtFQUNFLHdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSx3QkFBQTtFQUNBLGdDQUFBO0VBQUEsd0JBQUE7QUNBRjs7QURHQTtFQUNFLFVBQUE7QUNBRjs7QURHQTtFQUNFLHdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9DQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQUY7O0FER0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9DQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQUY7O0FER0E7RUFDSSx3Q0FBQTtVQUFBLGdDQUFBO0VBQ0EsOEJBQUE7VUFBQSxzQkFBQTtBQ0FKOztBREdBO0VBQ0k7SUFBTSxVQUFBO0VDQ1I7RURBRTtJQUFJLFVBQUE7RUNHTjtBQUNGOztBRE5BO0VBQ0k7SUFBTSxVQUFBO0VDQ1I7RURBRTtJQUFJLFVBQUE7RUNHTjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcXVlc3Rpb25uYWlyZS9xdWVzdGlvbm5haXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9ncmVzcy1jb3VudGVye1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtLXRpbnQpO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cbi5wcm9ncmVzcy1jb250YWluZXJ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDAwODtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgIC5wcm9ncmVzcy1zbGlkZXJ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG5pb24taXRlbSB7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAtLWJhY2tncm91bmQtaG92ZXI6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAtLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eTogMC4xNTtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gIHdpZHRoOiA0MDBweDtcbiAgbWF4LXdpZHRoOiA5MHZ3O1xufVxuXG5wLnN1YnRpdGxlIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xufVxuXG50ZXh0YXJlYSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3JkZXI6IHNvbGlkIDFweCAjMDAwMDAwMzA7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiAzNTBweDtcbiAgbWluLWhlaWdodDogMTAwcHg7XG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuc2VsZWN0IHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlcjogc29saWQgMXB4ICMwMDAwMDAzMDtcbiAgaGVpZ2h0OiA0MHB4O1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB3aWR0aDogNDAwcHg7XG4gIG1heC13aWR0aDogOTB2dztcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xufVxuXG5kaXYuc2xpZGVjb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxucC5zY2FsZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBmb250LXNpemU6IDEzcHg7XG5cbiAgJi5sZWZ0IHtcbiAgICBsZWZ0OiA3cHg7XG4gIH1cbiAgJi5yaWdodCB7XG4gICAgcmlnaHQ6IDdweDtcbiAgfVxufVxuXG4uc2xpZGVyIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxNHB4O1xuICBiYWNrZ3JvdW5kOiAjMDAwMDAwMTA7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIG9wYWNpdHk6IDAuNztcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG59XG5cbi5zbGlkZXI6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uc2xpZGVyOjotd2Via2l0LXNsaWRlci10aHVtYiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zbGlkZXI6Oi1tb3otcmFuZ2UtdGh1bWIge1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm9wYWNpdHlBbmltYXRpb24ge1xuICAgIGFuaW1hdGlvbi1uYW1lOiBvcGFjaXR5QW5pbWF0aW9uO1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMXM7XG59XG5cbkBrZXlmcmFtZXMgb3BhY2l0eUFuaW1hdGlvbiB7XG4gICAgZnJvbSB7b3BhY2l0eTogMDt9XG4gICAgdG8ge29wYWNpdHk6IDE7fVxuICB9IiwiLnByb2dyZXNzLWNvdW50ZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bS10aW50KTtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4ucHJvZ3Jlc3MtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDA4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG4ucHJvZ3Jlc3MtY29udGFpbmVyIC5wcm9ncmVzcy1zbGlkZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1pdGVtIHtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgLS1iYWNrZ3JvdW5kLWhvdmVyOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIC0tYmFja2dyb3VuZC1ob3Zlci1vcGFjaXR5OiAwLjE1O1xufVxuXG5pb24tYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgd2lkdGg6IDQwMHB4O1xuICBtYXgtd2lkdGg6IDkwdnc7XG59XG5cbnAuc3VidGl0bGUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG59XG5cbnRleHRhcmVhIHtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlcjogc29saWQgMXB4ICMwMDAwMDAzMDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtaW4td2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDM1MHB4O1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xufVxuXG5zZWxlY3Qge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyOiBzb2xpZCAxcHggIzAwMDAwMDMwO1xuICBoZWlnaHQ6IDQwcHg7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiA0MDBweDtcbiAgbWF4LXdpZHRoOiA5MHZ3O1xuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XG59XG5cbmRpdi5zbGlkZWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tYm90dG9tOiA1MHB4O1xufVxuXG5wLnNjYWxlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cbnAuc2NhbGUubGVmdCB7XG4gIGxlZnQ6IDdweDtcbn1cbnAuc2NhbGUucmlnaHQge1xuICByaWdodDogN3B4O1xufVxuXG4uc2xpZGVyIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxNHB4O1xuICBiYWNrZ3JvdW5kOiAjMDAwMDAwMTA7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIG9wYWNpdHk6IDAuNztcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG59XG5cbi5zbGlkZXI6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uc2xpZGVyOjotd2Via2l0LXNsaWRlci10aHVtYiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zbGlkZXI6Oi1tb3otcmFuZ2UtdGh1bWIge1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm9wYWNpdHlBbmltYXRpb24ge1xuICBhbmltYXRpb24tbmFtZTogb3BhY2l0eUFuaW1hdGlvbjtcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcbn1cblxuQGtleWZyYW1lcyBvcGFjaXR5QW5pbWF0aW9uIHtcbiAgZnJvbSB7XG4gICAgb3BhY2l0eTogMDtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxufSJdfQ== */");

/***/ }),

/***/ "./src/app/questionnaire/questionnaire.page.ts":
/*!*****************************************************!*\
  !*** ./src/app/questionnaire/questionnaire.page.ts ***!
  \*****************************************************/
/*! exports provided: QuestionnairePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionnairePage", function() { return QuestionnairePage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");



// tslint:disable: max-line-length
// tslint:disable: prefer-for-of
let QuestionnairePage = class QuestionnairePage {
    constructor(http) {
        this.http = http;
        this.respondent = {
            type: null,
            district: null
        };
        this.currentSlide = 1;
        this.questionCounter = 1;
        this.currentAnswer = null;
        this.currentAnswerArray = [];
        this.questionStack = [];
        this.answeredQuestions = [];
    }
    ngOnInit() {
        this.getToken();
    }
    // SEND ANSWERS
    sendAnswersPOST() {
        const headers = new Headers();
        headers.append('Accept', 'application/json');
        headers.append('Content-Type', 'application/json');
        const postData = {
            respondent: this.respondent,
            sessiontoken: this.respondentToken,
            respondentData: this.answeredQuestions
        };
        this.http.post('https://corona.skills4school.de/api/checkout.php?s=' + this.randomString(), postData)
            .subscribe(data => {
        }, error => {
            console.error(error);
        });
    }
    getToken() {
        const headers = new Headers();
        headers.append('Accept', 'application/json');
        headers.append('Content-Type', 'application/json');
        const postData = {
            setter: this.makeid(5),
            check: this.makeid(10),
            id: this.randomString(),
        };
        this.http.post('https://corona.skills4school.de/api/setup.php?s=' + this.randomString(), postData)
            .subscribe(data => {
            if (data.setup === 'emptyToken') {
                this.alreadyFilledOut = true;
            }
            else {
                this.alreadyFilledOut = false;
                this.respondentToken = data.setup;
            }
        }, error => {
            console.error(error);
        });
    }
    /* LOAD QUESTIONS */
    getQuestionJSON(status) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            if (status === 'teacher') {
                return this.http
                    .get('/assets/questions_teacher.json?session=' + this.randomString())
                    .toPromise();
            }
            else {
                return this.http
                    .get('/assets/questions_student.json?session=' + this.randomString())
                    .toPromise();
            }
        });
    }
    getQuestionStack() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            this.questionStack = [];
            const questionStackJSON = yield this.getQuestionJSON(this.respondent.type);
            for (let i = 0; i < questionStackJSON.length; i++) {
                this.questionStack.push(questionStackJSON[i]);
            }
        });
    }
    addToAnswerArray(usageCase, event) {
        const title = event.target.value;
        const checkIfAlreadyAdded = subjectCheck => this.currentAnswerArray.some(subject => subject === subjectCheck);
        if (checkIfAlreadyAdded(title)) {
            return;
        }
        if (usageCase === 'SUBJECTS' &&
            (title === 'Biologie' ||
                title === 'Chemie' ||
                title === 'Deutsch' ||
                title === 'Englisch' ||
                title === 'Französisch' ||
                title === 'Geographie' ||
                title === 'Geschichte' ||
                title === 'Informatik' ||
                title === 'Latein' ||
                title === 'Mathe' ||
                title === 'Physik' ||
                title === 'Spanisch')) {
            this.currentAnswerArray.push(title);
        }
    }
    removeFromAnswerArray(usageCase, title) {
        if (usageCase === 'SUBJECTS' &&
            (title === 'Biologie' ||
                title === 'Chemie' ||
                title === 'Deutsch' ||
                title === 'Englisch' ||
                title === 'Französisch' ||
                title === 'Geographie' ||
                title === 'Geschichte' ||
                title === 'Informatik' ||
                title === 'Latein' ||
                title === 'Mathe' ||
                title === 'Physik' ||
                title === 'Spanisch')) {
            for (let i = 0; i < this.currentAnswerArray.length; i++) {
                if (this.currentAnswerArray[i] === title) {
                    this.currentAnswerArray.splice(i, 1);
                    i--;
                }
            }
        }
    }
    goToNextSlide() {
        // if (this.currentSlide >= 16) {
        //   throw new Error('Cannot go to next slide.');
        // }
        if (this.currentSlide !== 1) { // if not the first question
            const curentQuestion = this.questionStack[this.currentSlide - 2];
            // save answer
            if (this.currentAnswer === null) {
                this.multipleChoice_TransformBoolToValue();
                const answer = { questionId: curentQuestion.questionId, answer: { data: this.currentAnswerArray } };
                this.answeredQuestions.push(answer);
            }
            else {
                const answer = { questionId: curentQuestion.questionId, answer: { data: this.currentAnswer } };
                this.answeredQuestions.push(answer);
            }
            if (this.questionStack[this.currentSlide - 2].skipAmountIfFalse && this.currentAnswer === 'no') { // skin answers
                this.currentSlide += 1 + this.questionStack[this.currentSlide - 2].skipAmountIfFalse;
            }
            else { // no answers to skip
                this.currentSlide += 1;
            }
        }
        else { // first question - skipping not possible
            this.getQuestionStack();
            this.currentSlide += 1;
        }
        this.questionCounter += 1;
        this.currentAnswerArray = [];
        this.currentAnswer = null;
        // end questionnaire
        if (this.currentSlide > this.questionStack.length + 1 && this.currentSlide !== 2) {
            this.sendAnswersPOST();
        }
    }
    getProgress() {
        return Math.floor((this.currentSlide - 1) / this.questionStack.length * 100);
    }
    /* OTHER */
    multipleChoice_TransformBoolToValue() {
        const curentQuestion = this.questionStack[this.currentSlide - 2];
        if (curentQuestion.questionType === 'MULTIPLECHOICE') {
            // transform boolean to values
            const valuesArray = [];
            for (let i = 0; i < this.currentAnswerArray.length; i++) {
                if (this.currentAnswerArray[i] === true) {
                    valuesArray.push(curentQuestion.questionAnswers[i]);
                }
            }
            this.currentAnswerArray = valuesArray;
        }
    }
    makeid(length) {
        let result = '';
        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        const charactersLength = characters.length;
        for (let i = 0; i < length; i++) {
            result += characters.charAt(Math.floor(Math.random() * charactersLength));
        }
        return result;
    }
    randomString() {
        return Math.random()
            .toString(36)
            .substr(2, 12);
    }
    DEMOgetData() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () { });
    }
};
QuestionnairePage.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
];
QuestionnairePage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-questionnaire',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./questionnaire.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/questionnaire/questionnaire.page.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./questionnaire.page.scss */ "./src/app/questionnaire/questionnaire.page.scss")).default]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
], QuestionnairePage);



/***/ })

}]);
//# sourceMappingURL=questionnaire-questionnaire-module-es2015.js.map